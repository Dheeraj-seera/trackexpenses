(this["webpackJsonpexpense-tracker"]=this["webpackJsonpexpense-tracker"]||[]).push([[0],{175:function(e,t,a){},338:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),c=a.n(o),l=(a(175),a(384)),i=a(20),m=a(86),u=a.p+"static/media/bg.28b9d27c.mp4",s=a(378),p=a(380),d=a(381),f=a(40),E=a(156),y=a(73),b=a(46),g="DELETE_TRANSACTION",v="ADD_TRANSACTION",O=function(e,t){switch(t.type){case g:var a=e.filter((function(e){return e.id!==t.payload}));return localStorage.setItem("transactions",JSON.stringify(a)),a;case v:var n=[t.payload].concat(Object(b.a)(e));return localStorage.setItem("transactions",JSON.stringify(n)),n;default:return e}},h=Object(n.createContext)(),j=JSON.parse(localStorage.getItem("transactions"))||[],x=function(e){var t=e.children,a=Object(n.useReducer)(O,j),o=Object(y.a)(a,2),c=o[0],l=o[1],i=c.reduce((function(e,t){return"Income"==t.type?e+parseFloat(t.amount):e-parseFloat(t.amount)}),0);return r.a.createElement(h.Provider,{value:{transactions:c,deleteTransaction:function(e){return l({type:g,payload:e})},addTransaction:function(e){return l({type:v,payload:e})},balance:i}},t)},C=["#123123","#154731","#165f40","#16784f","#14915f","#10ac6e","#0bc77e","#04e38d","#00ff9d"],N=["#b50d12","#bf2f1f","#c9452c","#d3583a","#dc6a48","#e57c58","#ee8d68","#f79d79","#ffae8a","#cc474b","#f55b5f"],T=[{type:"Business",amount:0,color:C[0]},{type:"Investments",amount:0,color:C[1]},{type:"Extra income",amount:0,color:C[2]},{type:"Deposits",amount:0,color:C[3]},{type:"Lottery",amount:0,color:C[4]},{type:"Gifts",amount:0,color:C[5]},{type:"Salary",amount:0,color:C[6]},{type:"Savings",amount:0,color:C[7]},{type:"Rental income",amount:0,color:C[8]}],k=[{type:"Bills",amount:0,color:N[0]},{type:"Car",amount:0,color:N[1]},{type:"Clothes",amount:0,color:N[2]},{type:"Travel",amount:0,color:N[3]},{type:"Food",amount:0,color:N[4]},{type:"Shopping",amount:0,color:N[5]},{type:"House",amount:0,color:N[6]},{type:"Entertainment",amount:0,color:N[7]},{type:"Phone",amount:0,color:N[8]},{type:"Pets",amount:0,color:N[9]},{type:"Other",amount:0,color:N[10]}],I=function(e){e=e.toLowerCase(),T.forEach((function(e){return e.amount=0})),k.forEach((function(e){return e.amount=0}));var t=Object(n.useContext)(h).transactions.filter((function(t){return t.type.toLowerCase()===e})),a=t.reduce((function(e,t){return e+parseFloat(t.amount)}),0),r="income"===e?T:k;t.forEach((function(e){var t=r.find((function(t){return t.type===e.category}));t&&(t.amount+=e.amount)}));var o=r.filter((function(e){return e.amount>0})),c={datasets:[{data:o.map((function(e){return e.amount})),backgroundColor:o.map((function(e){return e.color}))}],labels:o.map((function(e){return e.type}))};return{filteredCategories:o,total:a.toFixed(2),chartData:c}},S=a(375),w=Object(S.a)((function(){return{income:{borderBottom:"solid #20bb1b 5px"},expense:{borderBottom:"solid tomato 5px"},title:{textTransform:"capitalize"}}})),D=function(e){var t=e.title,a=w(),n=I(t),o=n.total,c=n.chartData;return console.log({total:o,chartData:c}),r.a.createElement(s.a,{className:a[t]},r.a.createElement(p.a,{title:t}),r.a.createElement(d.a,null,r.a.createElement(f.a,{align:"center",className:a.title,variant:"h3",style:{color:"Income"===t?"#297a56":"#d3583a"}},"\u20b9",o),r.a.createElement(E.Doughnut,{data:c,height:200})))},B=a(397),F=a(17),A=a(10),Y=a(385),L=a(386),P=a(401),_=a(398),M=a(390),R=a(403),J=a(88),W=Object(S.a)((function(){return{radioGroup:{display:"flex",justifyContent:"center",marginBottom:"-10px"},button:{float:"right",backgroundColor:J.a[500],color:"#fff","&:hover":{color:"#666",border:"solid 1px #aaa"}},segment:{color:"#aaa",fontWeight:"bold",fontSize:"1.2em"}}})),H=a(132),z=a(83),G=a.n(z),U=a(400),V=a(399),$=Object(S.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),q=function(e){var t=e.open,a=e.setOpen,n=$(),o=function(e,t){"clickaway"!==t&&a(!1)};return r.a.createElement("div",{className:n.root},r.a.createElement(U.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:t,autoHideDuration:6e3,onClose:o},r.a.createElement(V.a,{onClose:o,severity:"success",elevation:6,variant:"filled"},"Transaction successfully created.")))},K={type:"Income",amount:"",category:"",date:G()(new Date).format("YYYY-MM-DD")},Q=function(){var e=W(),t=Object(n.useState)(K),a=Object(y.a)(t,2),o=a[0],c=a[1],m=Object(n.useState)(!1),u=Object(y.a)(m,2),s=u[0],p=u[1],d=Object(n.useContext)(h).addTransaction,E=Object(i.useSpeechContext)().segment,b=function(e){e.persist();var t=e.target.value,a=e.target.name;"date"===a&&(t=G()(t).format("YYYY-MM-DD")),c((function(e){return Object(A.a)(Object(A.a)({},e),{},Object(F.a)({},a,t))}))},g=function(){if(!Number.isNaN(Number(o.amount))&&o.date.includes("-")){var e=Object(A.a)(Object(A.a)({},o),{},{id:Object(H.a)()});T.map((function(e){return e.type})).includes(o.category)?c(Object(A.a)(Object(A.a)({},o),{},{type:"Income"})):k.map((function(e){return e.type})).includes(o.category)&&c(Object(A.a)(Object(A.a)({},o),{},{type:"Expense"})),d(e),c(K),p(!0)}};Object(n.useEffect)((function(){if(E){if("add_expense"===E.intent.intent)c(Object(A.a)(Object(A.a)({},o),{},{type:"Expense"}));else if("add_income"===E.intent.intent)c(Object(A.a)(Object(A.a)({},o),{},{type:"Income"}));else{if(E.isFinal&&"create_transaction"===E.intent.intent)return g();if(E.isFinal&&"cancel_transaction"===E.intent.intent)return c(K)}E.entities.forEach((function(e){var t="".concat(e.value.charAt(0)).concat(e.value.slice(1).toLowerCase());switch(e.type){case"amount":c(Object(A.a)(Object(A.a)({},o),{},{amount:e.value}));break;case"category":T.map((function(e){return e.type})).includes(t)?c(Object(A.a)(Object(A.a)({},o),{},{type:"Income",category:t})):k.map((function(e){return e.type})).includes(t)&&c(Object(A.a)(Object(A.a)({},o),{},{type:"Expense",category:t}));break;case"date":c(Object(A.a)(Object(A.a)({},o),{},{date:e.value}))}})),E.isFinal&&o.amount&&o.category&&o.type&&o.date&&g()}}),[E]);var v="income"===o.type.toLowerCase()?T:k;return r.a.createElement(l.a,{container:!0,spacing:2},r.a.createElement(q,{open:s,setOpen:p}),r.a.createElement(l.a,{item:!0,xs:12},r.a.createElement(f.a,{className:e.segment,gutterBottom:!0,variant:"subtitle2",align:"center"},null===E||void 0===E?void 0:E.words.map((function(e){return e.value})).join(" "))),r.a.createElement(l.a,{item:!0,xs:12},r.a.createElement(Y.a,{className:e.button,onClick:g},"Create")),r.a.createElement(l.a,{item:!0,xs:6},r.a.createElement(L.a,{fullWidth:!0},r.a.createElement(P.a,null,"Type"),r.a.createElement(_.a,{value:o.type,name:"type",onChange:b},r.a.createElement(M.a,{value:"Income"},"Income"),r.a.createElement(M.a,{value:"Expense"},"Expense")))),r.a.createElement(l.a,{item:!0,xs:6},r.a.createElement(L.a,{fullWidth:!0},r.a.createElement(P.a,null,"Category"),r.a.createElement(_.a,{value:o.category,onChange:b,name:"category"},v.map((function(e){return r.a.createElement(M.a,{key:e.type,value:e.type},e.type)}))))),r.a.createElement(l.a,{item:!0,xs:6},r.a.createElement(R.a,{type:"number",label:"Amount",fullWidth:!0,name:"amount",value:o.amount,onChange:b})),r.a.createElement(l.a,{item:!0,xs:6},r.a.createElement(R.a,{value:o.date,onChange:b,name:"date",type:"date",label:"Date",fullWidth:!0})))},X=Math.round(Math.random()),Z=function(){return r.a.createElement("div",{elevation:3,style:{textAlign:"center",padding:"0 10%"}},"Try saying: ",r.a.createElement("br",null),"Add ",X?"Income ":"Expense ","for ",X?"\u20b9100 ":"\u20b950 ","in Category ",X?"Salary ":"Travel ","for ",X?"Monday ":"Thursday ")},ee=a(389),te=a(391),ae=a(341),ne=a(392),re=a(404),oe=a(394),ce=a(395),le=a(383),ie=a(87),me=Object(S.a)((function(e){return{avatarIncome:{color:"#fff",backgroundColor:J.a[500]},avatarExpense:{color:e.palette.getContrastText(ie.a[500]),backgroundColor:ie.a[500]},list:{maxHeight:"150px",overflow:"auto"},empty:{color:"#a1a1a1"}}})),ue=a(393),se=a(396),pe=function(){var e=me(),t=Object(n.useContext)(h),a=t.transactions,o=t.deleteTransaction;return r.a.createElement(ee.a,{dense:!1,className:e.list},a.map((function(t){return r.a.createElement(te.a,{direction:"down",in:!0,mountOnEnter:!0,unmountOnExit:!0,key:t.id},r.a.createElement(ae.a,null,r.a.createElement(ne.a,null,r.a.createElement(re.a,{className:"income"===t.type.toLowerCase()?e.avatarIncome:e.avatarExpense},r.a.createElement(ue.a,null))),r.a.createElement(oe.a,{primary:t.category,secondary:"$".concat(t.amount," - ").concat(t.date)}),r.a.createElement(ce.a,null,r.a.createElement(le.a,{eage:"end","aria-label":"delete",onClick:function(){return o(t.id)}},r.a.createElement(se.a,null)))))})),0===a.length&&r.a.createElement(f.a,{className:e.empty,variant:"h5",align:"center"},"You haven't added any transactions yet -__-"))},de=Object(S.a)((function(e){return{media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},cartContent:{paddingTop:0},divider:{margin:"20px 0"},info:{lineHeight:"1.5em",marginTop:25,color:"#3194f2"}}})),fe=function(){var e=de(),t=Object(n.useContext)(h).balance;return r.a.createElement(s.a,{className:e.root},r.a.createElement(p.a,{title:"Expense Tracker",subheader:"powered by speechly"}),r.a.createElement(d.a,null,r.a.createElement(f.a,{variant:"h6"},"Total balance: \u20b9",t.toFixed(2)),r.a.createElement(B.a,{className:e.divider}),r.a.createElement(f.a,{variant:"caption",className:e.info},r.a.createElement(Z,null)),r.a.createElement(B.a,{className:e.divider}),r.a.createElement(Q,null),r.a.createElement(B.a,{className:e.divider}),r.a.createElement(d.a,{className:e.CardContent},r.a.createElement(l.a,{container:!0,spacing:2},r.a.createElement(l.a,{item:!0,xs:12},r.a.createElement(pe,null))))))},Ee=Object(S.a)((function(e){var t;return{desktop:Object(F.a)({},e.breakpoints.up("sm"),{display:"none"}),mobile:Object(F.a)({},e.breakpoints.down("sm"),{display:"none"}),main:(t={},Object(F.a)(t,e.breakpoints.up("sm"),{paddingBottom:"5%"}),Object(F.a)(t,"margin"," 0 !important"),Object(F.a)(t,"marginTop","16px !important"),t),last:Object(F.a)({},e.breakpoints.down("sm"),{marginBottom:e.spacing(3),paddingBottom:"200px"}),grid:{"& > *":{margin:e.spacing(2)}}}}));var ye=function(){var e=Ee(),t=Object(i.useSpeechContext)().speechState,a=Object(n.useRef)(null);return Object(n.useEffect)((function(){t===i.SpeechState.Recording&&function(){var e;null===(e=a.current)||void 0===e||e.scrollIntoView()}()}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement("video",{autoPlay:!0,loop:!0,muted:!0,id:"appContainer"},r.a.createElement("source",{src:u,type:"video/mp4"})),r.a.createElement("div",{id:"content"},r.a.createElement(l.a,{className:e.grid,container:!0,alignItems:"flex-start",justify:"center",spacing:0},r.a.createElement(l.a,{item:!0,sm:3,xs:12,className:e.mobile},r.a.createElement(D,{title:"Expense"})),r.a.createElement(l.a,{ref:a,item:!0,sm:5,xs:12,className:e.main},r.a.createElement(fe,null)),r.a.createElement(l.a,{item:!0,sm:3,xs:12,className:e.desktop},r.a.createElement(D,{title:"Expense"})),r.a.createElement(l.a,{item:!0,sm:3,xs:12,className:e.last},r.a.createElement(D,{title:"Income"})),r.a.createElement(m.PushToTalkButtonContainer,null,r.a.createElement(m.PushToTalkButton,null),r.a.createElement(m.ErrorPanel,null)))))};c.a.render(r.a.createElement(i.SpeechProvider,{language:"en-US",appId:"8e3bf776-c599-47cf-b426-ee5653d5dd21"},r.a.createElement(x,null,r.a.createElement(ye,null))),document.getElementById("root"))}},[[338,1,2]]]);
//# sourceMappingURL=main.b1ad05a9.chunk.js.map